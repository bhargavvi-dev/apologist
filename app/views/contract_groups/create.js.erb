<% if (@contract_group and @contract_group.errors.any?) or @error.present? %>
  <% error_msg = @error.present? ? t('general.something_went_wrong') : @contract_group.errors.full_messages.first %>
  setFlashMessage("contract_group_notice", "contract_group_flash_msg", "<%= error_msg %>");
<% else %>
  $("#<%= @element_id %>").remove();
  $("#contract_groups").prepend("<div id=contract_group_<%= @contract_group.id%>><%= escape_javascript(render :partial => 'contract_group', :locals => { :contract_group => @contract_group }) %></div>");
<% end %>
<%= render :partial => "shared/ajax_js" %>