<% if (@contract and @contract.errors.any?) or @error.present? %>
  <% error_msg = @error.present? ? t('general.something_went_wrong') : @contract.errors.full_messages.first%>
  setFlashMessage("contract_group_notice", "contract_group_flash_msg", "<%= error_msg %>")
<% else %>
  $("#contract_<%= @contract.id%>").html("<%= escape_javascript(render :partial => 'contract', :locals => { :contract => @contract, :contract_group => @contract_group }) %>");
<% end %>
<%= render :partial => "shared/ajax_js" %>